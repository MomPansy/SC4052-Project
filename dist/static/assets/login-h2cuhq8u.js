import{r as v,f as S,b as I,c as M,d as We,j as s,e as P,g as V,h as Q,i as Me,k as Fe,U as Ce,l as U,m as be,p as ke,o as W,q as Z,t as Be,v as we,w as Ve,x as Ae,y as Ge,u as Oe,P as Ke,T as De,B as J,S as Ue,a as He,n as Ye,s as Y}from"./index-hRBCW26x.js";import{u as fe,z as ve,a as B,b as q,c as z,T as xe,P as qe,L as Xe,s as X}from"./index-BEmXrSr3.js";import{g as Je,c as Qe,a as ge}from"./get-env-DnKTRJfn.js";import{I as D,u as ee,a as Ze}from"./createReactComponent-CtkNaL7a.js";function et(e,o,t={autoInvoke:!1}){const a=v.useRef(null),c=v.useCallback((...i)=>{a.current||(a.current=window.setTimeout(()=>{e(i),a.current=null},o))},[o]),d=v.useCallback(()=>{a.current&&(window.clearTimeout(a.current),a.current=null)},[]);return v.useEffect(()=>(t.autoInvoke&&c(),d),[d,c]),{start:c,clear:d}}function tt(e,o,t){const a=v.useRef(null),c=v.useRef(null);return v.useEffect(()=>{const d=typeof t=="function"?t():t;return(d||c.current)&&(a.current=new MutationObserver(e),a.current.observe(d||c.current,o)),()=>{var i;(i=a.current)==null||i.disconnect()}},[e,o]),c}function te(e,o){return typeof e=="boolean"?e:o.autoContrast}function K(e){return e?parseInt(e,10):0}function ot(e,o){if(!o||!e)return!1;let t=o.parentNode;for(;t!=null;){if(t===e)return!0;t=t.parentNode}return!1}function st({target:e,parent:o,ref:t,displayAfterTransitionEnd:a}){const c=v.useRef(-1),[d,i]=v.useState(!1),[r,h]=v.useState(typeof a=="boolean"?a:!1),b=()=>{if(!e||!o||!t.current)return;const l=e.getBoundingClientRect(),u=o.getBoundingClientRect(),x=window.getComputedStyle(e),y=window.getComputedStyle(o),w=K(x.borderTopWidth)+K(y.borderTopWidth),C=K(x.borderLeftWidth)+K(y.borderLeftWidth),k={top:l.top-u.top-w,left:l.left-u.left-C,width:l.width,height:l.height};t.current.style.transform=`translateY(${k.top}px) translateX(${k.left}px)`,t.current.style.width=`${k.width}px`,t.current.style.height=`${k.height}px`},m=()=>{window.clearTimeout(c.current),t.current&&(t.current.style.transitionDuration="0ms"),b(),c.current=window.setTimeout(()=>{t.current&&(t.current.style.transitionDuration="")},30)},f=v.useRef(null),n=v.useRef(null);return v.useEffect(()=>{if(b(),e)return f.current=new ResizeObserver(m),f.current.observe(e),o&&(n.current=new ResizeObserver(m),n.current.observe(o)),()=>{var l,u;(l=f.current)==null||l.disconnect(),(u=n.current)==null||u.disconnect()}},[o,e]),v.useEffect(()=>{if(o){const l=u=>{ot(u.target,o)&&(m(),h(!1))};return o.addEventListener("transitionend",l),()=>{o.removeEventListener("transitionend",l)}}},[o]),et(()=>{Je()!=="test"&&i(!0)},20,{autoInvoke:!0}),tt(l=>{l.forEach(u=>{u.type==="attributes"&&u.attributeName==="dir"&&m()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:d,hidden:r}}var je={root:"m_96b553a6"};const nt={},at=V((e,{transitionDuration:o})=>({root:{"--transition-duration":typeof o=="number"?`${o}ms`:o}})),oe=S((e,o)=>{const t=I("FloatingIndicator",nt,e),{classNames:a,className:c,style:d,styles:i,unstyled:r,vars:h,target:b,parent:m,transitionDuration:f,mod:n,displayAfterTransitionEnd:l,...u}=t,x=M({name:"FloatingIndicator",classes:je,props:t,className:c,style:d,classNames:a,styles:i,unstyled:r,vars:h,varsResolver:at}),y=v.useRef(null),{initialized:w,hidden:C}=st({target:b,parent:m,ref:y,displayAfterTransitionEnd:l}),k=We(o,y);return!b||!m?null:s.jsx(P,{ref:k,mod:[{initialized:w,hidden:C},n],...x("root"),...u})});oe.displayName="@mantine/core/FloatingIndicator";oe.classes=je;var Te={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const rt=Te,Pe=v.forwardRef(({__staticSelector:e,__stylesApiProps:o,className:t,classNames:a,styles:c,unstyled:d,children:i,label:r,description:h,id:b,disabled:m,error:f,size:n,labelPosition:l="left",bodyElement:u="div",labelElement:x="label",variant:y,style:w,vars:C,mod:k,...j},p)=>{const g=M({name:e,props:o,className:t,style:w,classes:Te,classNames:a,styles:c,unstyled:d});return s.jsx(P,{...g("root"),ref:p,__vars:{"--label-fz":Me(n),"--label-lh":Q(n,"label-lh")},mod:[{"label-position":l},k],variant:y,size:n,...j,children:s.jsxs(P,{component:u,htmlFor:u==="label"?b:void 0,...g("body"),children:[i,s.jsxs("div",{...g("labelWrapper"),"data-disabled":m||void 0,children:[r&&s.jsx(P,{component:x,htmlFor:x==="label"?b:void 0,...g("label"),"data-disabled":m||void 0,children:r}),h&&s.jsx(D.Description,{size:n,__inheritStyles:!1,...g("description"),children:h}),f&&typeof f!="boolean"&&s.jsx(D.Error,{size:n,__inheritStyles:!1,...g("error"),children:f})]})]})})});Pe.displayName="@mantine/core/InlineInput";const Se=v.createContext(null),it=Se.Provider,Ie=()=>v.useContext(Se),[lt,ct]=Fe();var Re={card:"m_26775b0a"};const dt={withBorder:!0},ut=V((e,{radius:o})=>({card:{"--card-radius":U(o)}})),se=S((e,o)=>{const t=I("CheckboxCard",dt,e),{classNames:a,className:c,style:d,styles:i,unstyled:r,vars:h,checked:b,mod:m,withBorder:f,value:n,onClick:l,defaultChecked:u,onChange:x,...y}=t,w=M({name:"CheckboxCard",classes:Re,props:t,className:c,style:d,classNames:a,styles:i,unstyled:r,vars:h,varsResolver:ut,rootSelector:"card"}),C=Ie(),k=typeof b=="boolean"?b:C?C.value.includes(n||""):void 0,[j,p]=ee({value:k,defaultValue:u,finalValue:!1,onChange:x});return s.jsx(lt,{value:{checked:j},children:s.jsx(Ce,{ref:o,mod:[{"with-border":f,checked:j},m],...w("card"),...y,role:"checkbox","aria-checked":j,onClick:g=>{l==null||l(g),C==null||C.onChange(n||""),p(!j)}})})});se.displayName="@mantine/core/CheckboxCard";se.classes=Re;function mt({children:e,role:o}){const t=Ze();return t?s.jsx("div",{role:o,"aria-labelledby":t.labelId,"aria-describedby":t.describedBy,children:e}):s.jsx(s.Fragment,{children:e})}const pt={},ne=S((e,o)=>{const{value:t,defaultValue:a,onChange:c,size:d,wrapperProps:i,children:r,readOnly:h,...b}=I("CheckboxGroup",pt,e),[m,f]=ee({value:t,defaultValue:a,finalValue:[],onChange:c}),n=l=>{const u=typeof l=="string"?l:l.currentTarget.value;!h&&f(m.includes(u)?m.filter(x=>x!==u):[...m,u])};return s.jsx(it,{value:{value:m,onChange:n,size:d},children:s.jsx(D.Wrapper,{size:d,ref:o,...i,...b,labelElement:"div",__staticSelector:"CheckboxGroup",children:s.jsx(mt,{role:"group",children:r})})})});ne.classes=D.Wrapper.classes;ne.displayName="@mantine/core/CheckboxGroup";function ht({size:e,style:o,...t}){const a=e!==void 0?{width:be(e),height:be(e),...o}:o;return s.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:a,"aria-hidden":!0,...t,children:s.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function _e({indeterminate:e,...o}){return e?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...o,children:s.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):s.jsx(ht,{...o})}var Ne={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const bt={icon:_e},ft=V((e,{radius:o,color:t,size:a,iconColor:c,variant:d,autoContrast:i})=>{const r=ke({color:t||e.primaryColor,theme:e}),h=r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-outline)`:r.color;return{indicator:{"--checkbox-size":Q(a,"checkbox-size"),"--checkbox-radius":o===void 0?void 0:U(o),"--checkbox-color":d==="outline"?h:W(t,e),"--checkbox-icon-color":c?W(c,e):te(i,e)?Z({color:t,theme:e,autoContrast:i}):void 0}}}),ae=S((e,o)=>{const t=I("CheckboxIndicator",bt,e),{classNames:a,className:c,style:d,styles:i,unstyled:r,vars:h,icon:b,indeterminate:m,radius:f,color:n,iconColor:l,autoContrast:u,checked:x,mod:y,variant:w,disabled:C,...k}=t,j=b,p=M({name:"CheckboxIndicator",classes:Ne,props:t,className:c,style:d,classNames:a,styles:i,unstyled:r,vars:h,varsResolver:ft,rootSelector:"indicator"}),g=ct(),N=typeof x=="boolean"||typeof m=="boolean"?x||m:(g==null?void 0:g.checked)||!1;return s.jsx(P,{ref:o,...p("indicator",{variant:w}),variant:w,mod:[{checked:N,disabled:C},y],...k,children:s.jsx(j,{indeterminate:m,...p("icon")})})});ae.displayName="@mantine/core/CheckboxIndicator";ae.classes=Ne;var ze={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const vt={labelPosition:"right",icon:_e},xt=V((e,{radius:o,color:t,size:a,iconColor:c,variant:d,autoContrast:i})=>{const r=ke({color:t||e.primaryColor,theme:e}),h=r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-outline)`:r.color;return{root:{"--checkbox-size":Q(a,"checkbox-size"),"--checkbox-radius":o===void 0?void 0:U(o),"--checkbox-color":d==="outline"?h:W(t,e),"--checkbox-icon-color":c?W(c,e):te(i,e)?Z({color:t,theme:e,autoContrast:i}):void 0}}}),F=S((e,o)=>{const t=I("Checkbox",vt,e),{classNames:a,className:c,style:d,styles:i,unstyled:r,vars:h,color:b,label:m,id:f,size:n,radius:l,wrapperProps:u,checked:x,labelPosition:y,description:w,error:C,disabled:k,variant:j,indeterminate:p,icon:g,rootRef:N,iconColor:$,onChange:R,autoContrast:de,mod:E,...H}=t,_=Ie(),G=n||(_==null?void 0:_.size),$e=g,O=M({name:"Checkbox",props:t,classes:ze,className:c,style:d,classNames:a,styles:i,unstyled:r,vars:h,varsResolver:xt}),{styleProps:Ee,rest:ue}=Be(H),me=we(f),pe=_?{checked:_.value.includes(ue.value),onChange:he=>{_.onChange(he),R==null||R(he)}}:{},Le=v.useRef(null),L=o||Le;return v.useEffect(()=>{L&&"current"in L&&L.current&&(L.current.indeterminate=p||!1)},[p,L]),s.jsx(Pe,{...O("root"),__staticSelector:"Checkbox",__stylesApiProps:t,id:me,size:G,labelPosition:y,label:m,description:w,error:C,disabled:k,classNames:a,styles:i,unstyled:r,"data-checked":pe.checked||x||void 0,variant:j,ref:N,mod:E,...Ee,...u,children:s.jsxs(P,{...O("inner"),mod:{"data-label-position":y},children:[s.jsx(P,{component:"input",id:me,ref:L,checked:x,disabled:k,mod:{error:!!C,indeterminate:p},...O("input",{focusable:!0,variant:j}),onChange:R,...ue,...pe,type:"checkbox"}),s.jsx($e,{indeterminate:p,...O("icon")})]})})});F.classes={...ze,...rt};F.displayName="@mantine/core/Checkbox";F.Group=ne;F.Indicator=ae;F.Card=se;const[gt,re]=Ve("Tabs component was not found in the tree");var A={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const yt={},ie=S((e,o)=>{const t=I("TabsList",yt,e),{children:a,className:c,grow:d,justify:i,classNames:r,styles:h,style:b,mod:m,...f}=t,n=re();return s.jsx(P,{...f,...n.getStyles("list",{className:c,style:b,classNames:r,styles:h,props:t,variant:n.variant}),ref:o,role:"tablist",variant:n.variant,mod:[{grow:d,orientation:n.orientation,placement:n.orientation==="vertical"&&n.placement,inverted:n.inverted},m],"aria-orientation":n.orientation,__vars:{"--tabs-justify":i},children:a})});ie.classes=A;ie.displayName="@mantine/core/TabsList";const Ct={},le=S((e,o)=>{const t=I("TabsPanel",Ct,e),{children:a,className:c,value:d,classNames:i,styles:r,style:h,mod:b,keepMounted:m,...f}=t,n=re(),l=n.value===d,u=n.keepMounted||m||l?a:null;return s.jsx(P,{...f,...n.getStyles("panel",{className:c,classNames:i,styles:r,style:[h,l?void 0:{display:"none"}],props:t}),ref:o,mod:[{orientation:n.orientation},b],role:"tabpanel",id:n.getPanelId(d),"aria-labelledby":n.getTabId(d),children:u})});le.classes=A;le.displayName="@mantine/core/TabsPanel";const kt={},ce=S((e,o)=>{const t=I("TabsTab",kt,e),{className:a,children:c,rightSection:d,leftSection:i,value:r,onClick:h,onKeyDown:b,disabled:m,color:f,style:n,classNames:l,styles:u,vars:x,mod:y,tabIndex:w,...C}=t,k=Ae(),{dir:j}=Ge(),p=re(),g=r===p.value,N=R=>{p.onChange(p.allowTabDeactivation&&r===p.value?null:r),h==null||h(R)},$={classNames:l,styles:u,props:t};return s.jsxs(Ce,{...C,...p.getStyles("tab",{className:a,style:n,variant:p.variant,...$}),disabled:m,unstyled:p.unstyled,variant:p.variant,mod:[{active:g,disabled:m,orientation:p.orientation,inverted:p.inverted,placement:p.orientation==="vertical"&&p.placement},y],ref:o,role:"tab",id:p.getTabId(r),"aria-selected":g,tabIndex:w!==void 0?w:g||p.value===null?0:-1,"aria-controls":p.getPanelId(r),onClick:N,__vars:{"--tabs-color":f?W(f,k):void 0},onKeyDown:Qe({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:p.activateTabWithKeyboard,loop:p.loop,orientation:p.orientation||"horizontal",dir:j,onKeyDown:b}),children:[i&&s.jsx("span",{...p.getStyles("tabSection",$),"data-position":"left",children:i}),c&&s.jsx("span",{...p.getStyles("tabLabel",$),children:c}),d&&s.jsx("span",{...p.getStyles("tabSection",$),"data-position":"right",children:d})]})});ce.classes=A;ce.displayName="@mantine/core/TabsTab";const ye="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",wt={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},jt=V((e,{radius:o,color:t,autoContrast:a})=>({root:{"--tabs-radius":U(o),"--tabs-color":W(t,e),"--tabs-text-color":te(a,e)?Z({color:t,theme:e,autoContrast:a}):void 0}})),T=S((e,o)=>{const t=I("Tabs",wt,e),{defaultValue:a,value:c,onChange:d,orientation:i,children:r,loop:h,id:b,activateTabWithKeyboard:m,allowTabDeactivation:f,variant:n,color:l,radius:u,inverted:x,placement:y,keepMounted:w,classNames:C,styles:k,unstyled:j,className:p,style:g,vars:N,autoContrast:$,mod:R,...de}=t,E=we(b),[H,_]=ee({value:c,defaultValue:a,finalValue:null,onChange:d}),G=M({name:"Tabs",props:t,classes:A,className:p,style:g,classNames:C,styles:k,unstyled:j,vars:N,varsResolver:jt});return s.jsx(gt,{value:{placement:y,value:H,orientation:i,id:E,loop:h,activateTabWithKeyboard:m,getTabId:ge(`${E}-tab`,ye),getPanelId:ge(`${E}-panel`,ye),onChange:_,allowTabDeactivation:f,variant:n,color:l,radius:u,inverted:x,keepMounted:w,unstyled:j,getStyles:G},children:s.jsx(P,{ref:o,id:E,variant:n,mod:[{orientation:i,inverted:i==="horizontal"&&x,placement:i==="vertical"&&y},R],...G("root"),...de,children:r})})});T.classes=A;T.displayName="@mantine/core/Tabs";T.Tab=ce;T.Panel=le;T.List=ie;const Tt="http://localhost:5173";function Pt(){const[e,o]=v.useState("magic-link"),t=v.useRef(null),a=v.useRef({}),[c,d]=v.useState(!1);v.useLayoutEffect(()=>{t.current&&a.current["magic-link"]&&d(!0)},[t.current,a.current["magic-link"]]);const i=fe({mode:"uncontrolled",initialValues:{email:""},validate:ve(B.object({email:B.string().email()}))}),r=fe({mode:"uncontrolled",initialValues:{email:"",password:""},validate:ve(B.object({email:B.string().email(),password:B.string().min(1,"Password is required")}))}),h=Oe(),b=q({mutationKey:["auth","signin","magic-link"],mutationFn:async n=>{const{data:l,error:u}=await Y.auth.signInWithOtp({email:n.email,options:{emailRedirectTo:Tt}});if(u)throw u;return l},onSuccess:()=>{i.reset(),Ye.show({title:"Check your email",message:"We sent you a login link. Check your email inbox.",color:"green"})},onError:n=>{X(n.message)}}),m=q({mutationKey:["auth","signin","password"],mutationFn:async n=>{const{data:l,error:u}=await Y.auth.signInWithPassword({email:n.email,password:n.password});if(u)throw u;return l},onSuccess:()=>{r.reset(),h({to:"/"})},onError:n=>{X(n.message)}}),f=q({mutationKey:["auth","signin","google"],mutationFn:async()=>{const{data:n,error:l}=await Y.auth.signInWithIdToken({provider:"google",token:"your-id-token"});if(l)throw l;return n},onSuccess:()=>{r.reset(),h({to:"/"})},onError:n=>{X(n.message)}});return s.jsx("div",{className:z.wrapper,children:s.jsxs(Ke,{className:z.form,radius:0,p:30,children:[s.jsx(De,{order:2,className:z.title,ta:"center",mt:"md",mb:50,children:"Welcome back to [INSERT APP NAME]!"}),s.jsxs(T,{value:e,onChange:o,variant:"none",className:z.list,children:[s.jsxs(T.List,{ref:t,mb:"md",children:[s.jsx(T.Tab,{value:"magic-link",ref:n=>{a.current["magic-link"]=n},className:z.tab,children:"Magic Link"}),s.jsx(T.Tab,{value:"password",ref:n=>{a.current.password=n},className:z.tab,children:"Email & Password"}),c&&s.jsx(oe,{target:a.current[e||"magic-link"],parent:t.current,className:z.indicator})]}),s.jsx(T.Panel,{value:"magic-link",children:s.jsxs("form",{onSubmit:i.onSubmit(n=>{b.mutate(n)}),children:[s.jsx(xe,{label:"Email address",placeholder:"hello@gmail.com",size:"md",...i.getInputProps("email")}),s.jsx(J,{type:"submit",fullWidth:!0,size:"md",mt:"xl",loading:b.isPending,children:"Send Magic Link"})]})}),s.jsx(T.Panel,{value:"password",children:s.jsxs("form",{onSubmit:r.onSubmit(n=>{m.mutate(n)}),children:[s.jsx(xe,{label:"Email address",placeholder:"hello@gmail.com",size:"md",...r.getInputProps("email")}),s.jsx(qe,{label:"Password",placeholder:"Your password",mt:"md",size:"md",...r.getInputProps("password")}),s.jsx(F,{label:"Keep me logged in",mt:"xl",size:"md"}),s.jsx(J,{type:"submit",fullWidth:!0,size:"md",mt:"xl",loading:m.isPending,children:"Login"})]})})]}),s.jsx(Ue,{mt:"xl",children:s.jsx(It,{fullWidth:!0,size:"md",onClick:()=>{f.mutate()},loading:f.isPending,children:"Login With Google"})}),s.jsxs(He,{ta:"center",mt:"md",children:["Don't have an account?"," ",s.jsx(Xe,{to:"/register",className:"text-hf-blue hover:text-blue-700 font-bold",children:"Register"})]})]})})}function St(e){return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 262",style:{width:14,height:14},...e,children:[s.jsx("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}),s.jsx("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}),s.jsx("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"}),s.jsx("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"})]})}function It(e){return s.jsx(J,{leftSection:s.jsx(St,{}),variant:"default",...e})}const $t=v.memo(Pt);export{$t as component};
