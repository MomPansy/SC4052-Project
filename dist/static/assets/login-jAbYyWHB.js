import{r as f,t as D,f as R,b as I,c as W,d as We,j as s,e as _,g as B,h as J,i as Fe,k as Me,l as Q,U as Ce,m as U,o as pe,p as ke,q as E,v as Z,w as Ve,x as we,y as Be,z as Oe,A as Ke,C as Ae,u as De,T as Ge,a as Ue,L as qe,P as He,B as he,n as Ye,s as H}from"./index-G8_0UQtD.js";import{u as ve,z as fe,a as M,b as Y,c as V,T as xe,P as Xe,s as X}from"./index-B-ePBqj0.js";import{g as Je,a as ge,C as Qe}from"./Container-CzILKvOj.js";import{I as G,u as Ze}from"./InputBase-BeAQgKfa.js";function et(t,o,e={autoInvoke:!1}){const n=f.useRef(null),c=f.useCallback((...l)=>{n.current||(n.current=window.setTimeout(()=>{t(l),n.current=null},o))},[o]),u=f.useCallback(()=>{n.current&&(window.clearTimeout(n.current),n.current=null)},[]);return f.useEffect(()=>(e.autoInvoke&&c(),u),[u,c]),{start:c,clear:u}}function tt(t,o,e){const n=f.useRef(null),c=f.useRef(null);return f.useEffect(()=>{const u=typeof e=="function"?e():e;return(u||c.current)&&(n.current=new MutationObserver(t),n.current.observe(u||c.current,o)),()=>{var l;(l=n.current)==null||l.disconnect()}},[t,o]),c}function ee(t,o){return typeof t=="boolean"?t:o.autoContrast}function ot(t,o){if(!o||!t)return!1;let e=o.parentNode;for(;e!=null;){if(e===t)return!0;e=e.parentNode}return!1}function st({target:t,parent:o,ref:e,displayAfterTransitionEnd:n}){const c=f.useRef(-1),[u,l]=f.useState(!1),[i,p]=f.useState(typeof n=="boolean"?n:!1),v=()=>{if(!t||!o||!e.current)return;const d=t.getBoundingClientRect(),h=o.getBoundingClientRect(),x=window.getComputedStyle(t),y=window.getComputedStyle(o),w=D(x.borderTopWidth)+D(y.borderTopWidth),C=D(x.borderLeftWidth)+D(y.borderLeftWidth),k={top:d.top-h.top-w,left:d.left-h.left-C,width:d.width,height:d.height};e.current.style.transform=`translateY(${k.top}px) translateX(${k.left}px)`,e.current.style.width=`${k.width}px`,e.current.style.height=`${k.height}px`},m=()=>{window.clearTimeout(c.current),e.current&&(e.current.style.transitionDuration="0ms"),v(),c.current=window.setTimeout(()=>{e.current&&(e.current.style.transitionDuration="")},30)},r=f.useRef(null),a=f.useRef(null);return f.useEffect(()=>{if(v(),t)return r.current=new ResizeObserver(m),r.current.observe(t),o&&(a.current=new ResizeObserver(m),a.current.observe(o)),()=>{var d,h;(d=r.current)==null||d.disconnect(),(h=a.current)==null||h.disconnect()}},[o,t]),f.useEffect(()=>{if(o){const d=h=>{ot(h.target,o)&&(m(),p(!1))};return o.addEventListener("transitionend",d),()=>{o.removeEventListener("transitionend",d)}}},[o]),et(()=>{Je()!=="test"&&l(!0)},20,{autoInvoke:!0}),tt(d=>{d.forEach(h=>{h.type==="attributes"&&h.attributeName==="dir"&&m()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:u,hidden:i}}var Te={root:"m_96b553a6"};const nt={},at=B((t,{transitionDuration:o})=>({root:{"--transition-duration":typeof o=="number"?`${o}ms`:o}})),te=R((t,o)=>{const e=I("FloatingIndicator",nt,t),{classNames:n,className:c,style:u,styles:l,unstyled:i,vars:p,target:v,parent:m,transitionDuration:r,mod:a,displayAfterTransitionEnd:d,...h}=e,x=W({name:"FloatingIndicator",classes:Te,props:e,className:c,style:u,classNames:n,styles:l,unstyled:i,vars:p,varsResolver:at}),y=f.useRef(null),{initialized:w,hidden:C}=st({target:v,parent:m,ref:y,displayAfterTransitionEnd:d}),k=We(o,y);return!v||!m?null:s.jsx(_,{ref:k,mod:[{initialized:w,hidden:C},a],...x("root"),...h})});te.displayName="@mantine/core/FloatingIndicator";te.classes=Te;var je={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const rt=je,_e=f.forwardRef(({__staticSelector:t,__stylesApiProps:o,className:e,classNames:n,styles:c,unstyled:u,children:l,label:i,description:p,id:v,disabled:m,error:r,size:a,labelPosition:d="left",bodyElement:h="div",labelElement:x="label",variant:y,style:w,vars:C,mod:k,...T},b)=>{const g=W({name:t,props:o,className:e,style:w,classes:je,classNames:n,styles:c,unstyled:u});return s.jsx(_,{...g("root"),ref:b,__vars:{"--label-fz":Fe(a),"--label-lh":J(a,"label-lh")},mod:[{"label-position":d},k],variant:y,size:a,...T,children:s.jsxs(_,{component:h,htmlFor:h==="label"?v:void 0,...g("body"),children:[l,s.jsxs("div",{...g("labelWrapper"),"data-disabled":m||void 0,children:[i&&s.jsx(_,{component:x,htmlFor:x==="label"?v:void 0,...g("label"),"data-disabled":m||void 0,children:i}),p&&s.jsx(G.Description,{size:a,__inheritStyles:!1,...g("description"),children:p}),r&&typeof r!="boolean"&&s.jsx(G.Error,{size:a,__inheritStyles:!1,...g("error"),children:r})]})]})})});_e.displayName="@mantine/core/InlineInput";const Re=f.createContext(null),it=Re.Provider,Ie=()=>f.useContext(Re),[lt,ct]=Me();var Pe={card:"m_26775b0a"};const dt={withBorder:!0},ut=B((t,{radius:o})=>({card:{"--card-radius":U(o)}})),oe=R((t,o)=>{const e=I("CheckboxCard",dt,t),{classNames:n,className:c,style:u,styles:l,unstyled:i,vars:p,checked:v,mod:m,withBorder:r,value:a,onClick:d,defaultChecked:h,onChange:x,...y}=e,w=W({name:"CheckboxCard",classes:Pe,props:e,className:c,style:u,classNames:n,styles:l,unstyled:i,vars:p,varsResolver:ut,rootSelector:"card"}),C=Ie(),k=typeof v=="boolean"?v:C?C.value.includes(a||""):void 0,[T,b]=Q({value:k,defaultValue:h,finalValue:!1,onChange:x});return s.jsx(lt,{value:{checked:T},children:s.jsx(Ce,{ref:o,mod:[{"with-border":r,checked:T},m],...w("card"),...y,role:"checkbox","aria-checked":T,onClick:g=>{d==null||d(g),C==null||C.onChange(a||""),b(!T)}})})});oe.displayName="@mantine/core/CheckboxCard";oe.classes=Pe;function mt({children:t,role:o}){const e=Ze();return e?s.jsx("div",{role:o,"aria-labelledby":e.labelId,"aria-describedby":e.describedBy,children:t}):s.jsx(s.Fragment,{children:t})}const bt={},se=R((t,o)=>{const{value:e,defaultValue:n,onChange:c,size:u,wrapperProps:l,children:i,readOnly:p,...v}=I("CheckboxGroup",bt,t),[m,r]=Q({value:e,defaultValue:n,finalValue:[],onChange:c}),a=d=>{const h=typeof d=="string"?d:d.currentTarget.value;!p&&r(m.includes(h)?m.filter(x=>x!==h):[...m,h])};return s.jsx(it,{value:{value:m,onChange:a,size:u},children:s.jsx(G.Wrapper,{size:u,ref:o,...l,...v,labelElement:"div",__staticSelector:"CheckboxGroup",children:s.jsx(mt,{role:"group",children:i})})})});se.classes=G.Wrapper.classes;se.displayName="@mantine/core/CheckboxGroup";function pt({size:t,style:o,...e}){const n=t!==void 0?{width:pe(t),height:pe(t),...o}:o;return s.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...e,children:s.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Se({indeterminate:t,...o}){return t?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...o,children:s.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):s.jsx(pt,{...o})}var Ne={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const ht={icon:Se},vt=B((t,{radius:o,color:e,size:n,iconColor:c,variant:u,autoContrast:l})=>{const i=ke({color:e||t.primaryColor,theme:t}),p=i.isThemeColor&&i.shade===void 0?`var(--mantine-color-${i.color}-outline)`:i.color;return{indicator:{"--checkbox-size":J(n,"checkbox-size"),"--checkbox-radius":o===void 0?void 0:U(o),"--checkbox-color":u==="outline"?p:E(e,t),"--checkbox-icon-color":c?E(c,t):ee(l,t)?Z({color:e,theme:t,autoContrast:l}):void 0}}}),ne=R((t,o)=>{const e=I("CheckboxIndicator",ht,t),{classNames:n,className:c,style:u,styles:l,unstyled:i,vars:p,icon:v,indeterminate:m,radius:r,color:a,iconColor:d,autoContrast:h,checked:x,mod:y,variant:w,disabled:C,...k}=e,T=v,b=W({name:"CheckboxIndicator",classes:Ne,props:e,className:c,style:u,classNames:n,styles:l,unstyled:i,vars:p,varsResolver:vt,rootSelector:"indicator"}),g=ct(),N=typeof x=="boolean"||typeof m=="boolean"?x||m:(g==null?void 0:g.checked)||!1;return s.jsx(_,{ref:o,...b("indicator",{variant:w}),variant:w,mod:[{checked:N,disabled:C},y],...k,children:s.jsx(T,{indeterminate:m,...b("icon")})})});ne.displayName="@mantine/core/CheckboxIndicator";ne.classes=Ne;var ze={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const ft={labelPosition:"right",icon:Se},xt=B((t,{radius:o,color:e,size:n,iconColor:c,variant:u,autoContrast:l})=>{const i=ke({color:e||t.primaryColor,theme:t}),p=i.isThemeColor&&i.shade===void 0?`var(--mantine-color-${i.color}-outline)`:i.color;return{root:{"--checkbox-size":J(n,"checkbox-size"),"--checkbox-radius":o===void 0?void 0:U(o),"--checkbox-color":u==="outline"?p:E(e,t),"--checkbox-icon-color":c?E(c,t):ee(l,t)?Z({color:e,theme:t,autoContrast:l}):void 0}}}),F=R((t,o)=>{const e=I("Checkbox",ft,t),{classNames:n,className:c,style:u,styles:l,unstyled:i,vars:p,color:v,label:m,id:r,size:a,radius:d,wrapperProps:h,checked:x,labelPosition:y,description:w,error:C,disabled:k,variant:T,indeterminate:b,icon:g,rootRef:N,iconColor:z,onChange:P,autoContrast:ce,mod:$,...q}=e,S=Ie(),K=a||(S==null?void 0:S.size),$e=g,A=W({name:"Checkbox",props:e,classes:ze,className:c,style:u,classNames:n,styles:l,unstyled:i,vars:p,varsResolver:xt}),{styleProps:Le,rest:de}=Ve(q),ue=we(r),me=S?{checked:S.value.includes(de.value),onChange:be=>{S.onChange(be),P==null||P(be)}}:{},Ee=f.useRef(null),L=o||Ee;return f.useEffect(()=>{L&&"current"in L&&L.current&&(L.current.indeterminate=b||!1)},[b,L]),s.jsx(_e,{...A("root"),__staticSelector:"Checkbox",__stylesApiProps:e,id:ue,size:K,labelPosition:y,label:m,description:w,error:C,disabled:k,classNames:n,styles:l,unstyled:i,"data-checked":me.checked||x||void 0,variant:T,ref:N,mod:$,...Le,...h,children:s.jsxs(_,{...A("inner"),mod:{"data-label-position":y},children:[s.jsx(_,{component:"input",id:ue,ref:L,checked:x,disabled:k,mod:{error:!!C,indeterminate:b},...A("input",{focusable:!0,variant:T}),onChange:P,...de,...me,type:"checkbox"}),s.jsx($e,{indeterminate:b,...A("icon")})]})})});F.classes={...ze,...rt};F.displayName="@mantine/core/Checkbox";F.Group=se;F.Indicator=ne;F.Card=oe;const[gt,ae]=Be("Tabs component was not found in the tree");var O={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const yt={},re=R((t,o)=>{const e=I("TabsList",yt,t),{children:n,className:c,grow:u,justify:l,classNames:i,styles:p,style:v,mod:m,...r}=e,a=ae();return s.jsx(_,{...r,...a.getStyles("list",{className:c,style:v,classNames:i,styles:p,props:e,variant:a.variant}),ref:o,role:"tablist",variant:a.variant,mod:[{grow:u,orientation:a.orientation,placement:a.orientation==="vertical"&&a.placement,inverted:a.inverted},m],"aria-orientation":a.orientation,__vars:{"--tabs-justify":l},children:n})});re.classes=O;re.displayName="@mantine/core/TabsList";const Ct={},ie=R((t,o)=>{const e=I("TabsPanel",Ct,t),{children:n,className:c,value:u,classNames:l,styles:i,style:p,mod:v,keepMounted:m,...r}=e,a=ae(),d=a.value===u,h=a.keepMounted||m||d?n:null;return s.jsx(_,{...r,...a.getStyles("panel",{className:c,classNames:l,styles:i,style:[p,d?void 0:{display:"none"}],props:e}),ref:o,mod:[{orientation:a.orientation},v],role:"tabpanel",id:a.getPanelId(u),"aria-labelledby":a.getTabId(u),children:h})});ie.classes=O;ie.displayName="@mantine/core/TabsPanel";const kt={},le=R((t,o)=>{const e=I("TabsTab",kt,t),{className:n,children:c,rightSection:u,leftSection:l,value:i,onClick:p,onKeyDown:v,disabled:m,color:r,style:a,classNames:d,styles:h,vars:x,mod:y,tabIndex:w,...C}=e,k=Oe(),{dir:T}=Ke(),b=ae(),g=i===b.value,N=P=>{b.onChange(b.allowTabDeactivation&&i===b.value?null:i),p==null||p(P)},z={classNames:d,styles:h,props:e};return s.jsxs(Ce,{...C,...b.getStyles("tab",{className:n,style:a,variant:b.variant,...z}),disabled:m,unstyled:b.unstyled,variant:b.variant,mod:[{active:g,disabled:m,orientation:b.orientation,inverted:b.inverted,placement:b.orientation==="vertical"&&b.placement},y],ref:o,role:"tab",id:b.getTabId(i),"aria-selected":g,tabIndex:w!==void 0?w:g||b.value===null?0:-1,"aria-controls":b.getPanelId(i),onClick:N,__vars:{"--tabs-color":r?E(r,k):void 0},onKeyDown:Ae({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:b.activateTabWithKeyboard,loop:b.loop,orientation:b.orientation||"horizontal",dir:T,onKeyDown:v}),children:[l&&s.jsx("span",{...b.getStyles("tabSection",z),"data-position":"left",children:l}),c&&s.jsx("span",{...b.getStyles("tabLabel",z),children:c}),u&&s.jsx("span",{...b.getStyles("tabSection",z),"data-position":"right",children:u})]})});le.classes=O;le.displayName="@mantine/core/TabsTab";const ye="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",wt={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Tt=B((t,{radius:o,color:e,autoContrast:n})=>({root:{"--tabs-radius":U(o),"--tabs-color":E(e,t),"--tabs-text-color":ee(n,t)?Z({color:e,theme:t,autoContrast:n}):void 0}})),j=R((t,o)=>{const e=I("Tabs",wt,t),{defaultValue:n,value:c,onChange:u,orientation:l,children:i,loop:p,id:v,activateTabWithKeyboard:m,allowTabDeactivation:r,variant:a,color:d,radius:h,inverted:x,placement:y,keepMounted:w,classNames:C,styles:k,unstyled:T,className:b,style:g,vars:N,autoContrast:z,mod:P,...ce}=e,$=we(v),[q,S]=Q({value:c,defaultValue:n,finalValue:null,onChange:u}),K=W({name:"Tabs",props:e,classes:O,className:b,style:g,classNames:C,styles:k,unstyled:T,vars:N,varsResolver:Tt});return s.jsx(gt,{value:{placement:y,value:q,orientation:l,id:$,loop:p,activateTabWithKeyboard:m,getTabId:ge(`${$}-tab`,ye),getPanelId:ge(`${$}-panel`,ye),onChange:S,allowTabDeactivation:r,variant:a,color:d,radius:h,inverted:x,keepMounted:w,unstyled:T,getStyles:K},children:s.jsx(_,{ref:o,id:$,variant:a,mod:[{orientation:l,inverted:l==="horizontal"&&x,placement:l==="vertical"&&y},P],...K("root"),...ce,children:i})})});j.classes=O;j.displayName="@mantine/core/Tabs";j.Tab=le;j.Panel=ie;j.List=re;const jt="http://localhost:5173";function _t(){const[t,o]=f.useState("magic-link"),e=f.useRef(null),n=f.useRef({}),[c,u]=f.useState(!1);f.useLayoutEffect(()=>{e.current&&n.current["magic-link"]&&u(!0)},[e.current,n.current["magic-link"]]);const l=ve({mode:"uncontrolled",initialValues:{email:""},validate:fe(M.object({email:M.string().email()}))}),i=ve({mode:"uncontrolled",initialValues:{email:"",password:""},validate:fe(M.object({email:M.string().email(),password:M.string().min(1,"Password is required")}))}),p=De(),v=Y({mutationKey:["auth","signin","magic-link"],mutationFn:async r=>{const{data:a,error:d}=await H.auth.signInWithOtp({email:r.email,options:{emailRedirectTo:jt}});if(d)throw d;return a},onSuccess:()=>{l.reset(),Ye.show({title:"Check your email",message:"We sent you a login link. Check your email inbox.",color:"green"})},onError:r=>{X(r.message)}}),m=Y({mutationKey:["auth","signin","password"],mutationFn:async r=>{const{data:a,error:d}=await H.auth.signInWithPassword({email:r.email,password:r.password});if(d)throw d;return a},onSuccess:()=>{i.reset(),p({to:"/"})},onError:r=>{X(r.message)}});return Y({mutationKey:["auth","signin","google"],mutationFn:async()=>{const{data:r,error:a}=await H.auth.signInWithIdToken({provider:"google",token:"your-id-token"});if(a)throw a;return r},onSuccess:()=>{i.reset(),p({to:"/"})},onError:r=>{X(r.message)}}),s.jsxs(Qe,{size:420,my:120,children:[s.jsx(Ge,{order:2,className:V.title,ta:"center",mb:20,children:"Welcome back!"}),s.jsxs(Ue,{c:"dimmed",size:"sm",ta:"center",children:["Do not have an account yet?"," ",s.jsx(qe,{to:"/register",className:"text-hf-blue hover:text-blue-700 font-bold",children:"Register"})]}),s.jsx(He,{withBorder:!0,shadow:"md",p:30,mt:30,radius:"md",children:s.jsxs(j,{value:t,onChange:o,variant:"none",className:V.list,children:[s.jsxs(j.List,{ref:e,mb:"md",children:[s.jsx(j.Tab,{value:"magic-link",ref:r=>{n.current["magic-link"]=r},className:V.tab,children:"Magic Link"}),s.jsx(j.Tab,{value:"password",ref:r=>{n.current.password=r},className:V.tab,children:"Email & Password"}),c&&s.jsx(te,{target:n.current[t||"magic-link"],parent:e.current,className:V.indicator})]}),s.jsx(j.Panel,{value:"magic-link",children:s.jsxs("form",{onSubmit:l.onSubmit(r=>{v.mutate(r)}),children:[s.jsx(xe,{label:"Email address",placeholder:"hello@gmail.com",size:"md",...l.getInputProps("email")}),s.jsx(he,{type:"submit",fullWidth:!0,size:"md",mt:"xl",loading:v.isPending,children:"Send Magic Link"})]})}),s.jsx(j.Panel,{value:"password",children:s.jsxs("form",{onSubmit:i.onSubmit(r=>{m.mutate(r)}),children:[s.jsx(xe,{label:"Email address",placeholder:"hello@gmail.com",size:"md",...i.getInputProps("email")}),s.jsx(Xe,{label:"Password",placeholder:"Your password",mt:"md",size:"md",...i.getInputProps("password")}),s.jsx(F,{label:"Keep me logged in",mt:"xl",size:"md"}),s.jsx(he,{type:"submit",fullWidth:!0,size:"md",mt:"xl",loading:m.isPending,children:"Login"})]})})]})})]})}const Nt=f.memo(_t);export{Nt as component};
